/*! sly 1.0.1 - 8th Jun 2013 | https://github.com/Darsain/sly */
(function(h,L,sa){function ma(f,aa,l){var ta,u,ua,w,K,L,S,na;function ba(){var a=0;e.old=h.extend({},e);s=F?0:B[c.horizontal?"width":"height"]();M=H[c.horizontal?"width":"height"]();n=F?f:q[c.horizontal?"outerWidth":"outerHeight"]();C.length=0;e.start=0;e.end=Math.max(n-s,0);r={};if(D){var j=k.length;x=q.children(c.itemSelector);k.length=0;var b=ca(q,c.horizontal?"paddingLeft":"paddingTop"),Va=ca(q,c.horizontal?"paddingRight":"paddingBottom"),aa=ca(x,c.horizontal?"marginLeft":"marginTop"),a=ca(x.slice(-1),
c.horizontal?"marginRight":"marginBottom"),va=0,m="none"!==x.css("float"),a=aa?0:a;n=0;x.each(function(a,j){var d=h(j),e=d[c.horizontal?"outerWidth":"outerHeight"](!0),f=ca(d,c.horizontal?"marginLeft":"marginTop"),d=ca(d,c.horizontal?"marginRight":"marginBottom"),g={el:j,size:e,half:e/2,start:n-(!a||c.horizontal?0:f),center:n-Math.round(s/2-e/2),end:n-s+e-(aa?0:d)};a||(va=-(I?Math.round(s/2-e/2):0)+b,n+=b);n+=e;!c.horizontal&&!m&&d&&(f&&0<a)&&(n-=Math.min(f,d));a===x.length-1&&(n+=Va);k.push(g)});
q[0].style[c.horizontal?"width":"height"]=n+"px";n-=a;e.start=va;e.end=I?k.length?k[k.length-1].center:va:Math.max(n-s,0);if(g.activeItem>=k.length||0===j&&0<k.length)oa(0<k.length?k.length-1:0)}e.center=Math.round(e.end/2+e.start/2);h.extend(g,wa(void 0));y.length&&0<M&&(c.dynamicHandle?(N=I?k.length?M*s/(s+k[k.length-1].center-k[0].center):M:M*s/n,N=z(Math.round(N),c.minHandleSize,M),y[0].style[c.horizontal?"width":"height"]=N+"px"):N=y[c.horizontal?"outerWidth":"outerHeight"](),p.end=M-N,T||la());
if(!F&&0<s){var l=e.start,j="";if(D)h.each(k,function(a,j){if(I||j.start+j.size>l)l=j[I?"center":"start"],C.push(l),l+=s});else for(;l-s<e.end;)C.push(l),l+=s;if(U[0]){for(a=0;a<C.length;a++)j+=c.pageBuilder.call(d,a);pa=U.html(j).children()}}J(z(e.dest,e.start,e.end));g.slideeSize=n;g.frameSize=s;g.sbSize=M;g.handleSize=N;v("load")}function J(a,j,ha){if(D&&b.released&&!ha){ha=wa(a);var f=a>e.start&&a<e.end;O?(f&&(a=k[ha.centerItem].center),I&&c.activateMiddle&&oa(ha.centerItem)):f&&(a=k[ha.firstItem].start)}b.init&&
b.slidee&&c.elasticBounds?a>e.end?a=e.end+(a-e.end)/6:a<e.start&&(a=e.start+(a-e.start)/6):a=z(a,e.start,e.end);ta=+new Date;u=0;ua=e.cur;w=a;K=a-e.cur;L=b.tweese||b.init&&!b.slidee;S=j||b.init&&b.slidee&&!b.tweese;b.tweese=0;a!==e.dest&&(e.dest=a,v("change"),T||$());b.released&&!d.isPaused&&d.resume();h.extend(g,wa(void 0));Ca();pa[0]&&r.page!==g.activePage&&(r.page=g.activePage,pa.removeClass(c.activeClass).eq(g.activePage).addClass(c.activeClass),v("activePage",r.page))}function $(){T?(S?e.cur=
w:L?(na=w-e.cur,e.cur=0.1>Math.abs(na)?w:e.cur+na*(b.released?c.swingSpeed:c.syncSpeed)):(u=Math.min(+new Date-ta,c.speed),e.cur=ua+K*jQuery.easing[c.easing](u/c.speed,u,0,1,c.speed)),w===e.cur?(e.cur=w,b.tweese=T=0):T=ia($),v("move"),F||(G?q[0].style[G]=ja+(c.horizontal?"translateX":"translateY")+"("+-e.cur+"px)":q[0].style[c.horizontal?"left":"top"]=-Math.round(e.cur)+"px"),!T&&b.released&&v("moveEnd"),la()):(T=ia($),b.released&&v("moveStart"))}function la(){y.length&&(p.cur=e.start===e.end?0:((b.init&&
!b.slidee?e.dest:e.cur)-e.start)/(e.end-e.start)*p.end,p.cur=z(Math.round(p.cur),p.start,p.end),r.hPos!==p.cur&&(r.hPos=p.cur,G?y[0].style[G]=ja+(c.horizontal?"translateX":"translateY")+"("+p.cur+"px)":y[0].style[c.horizontal?"left":"top"]=p.cur+"px"))}function Da(){(!t.speed||e.cur===(0<t.speed?e.end:e.start))&&d.stop();Ea=b.init?ia(Da):0;t.now=+new Date;t.pos=e.cur+(t.now-t.lastTime)/1E3*t.speed;J(b.init?t.pos:Math.round(t.pos));!b.init&&e.cur===e.dest&&v("moveEnd");t.lastTime=t.now}function xa(a,
j,b){"boolean"===P(j)&&(b=j,j=sa);j===sa?J(e[a],b):O&&"center"!==a||(j=d.getPos(j))&&J(j[a],b,!O)}function qa(a){return"undefined"!==P(a)?Q(a)?0<=a&&a<k.length?a:-1:x.index(a):-1}function ya(a){return qa(Q(a)&&0>a?a+k.length:a)}function oa(a){a=qa(a);if(!D||0>a)return!1;r.active!==a&&(x.eq(g.activeItem).removeClass(c.activeClass),x.eq(a).addClass(c.activeClass),r.active=g.activeItem=a,Ca(),v("active",a));return a}function wa(a){a=z(Q(a)?a:e.dest,e.start,e.end);var j={},b=I?0:s/2;if(!F)for(var c=0,
d=C.length;c<d;c++){if(a>=e.end||c===C.length-1){j.activePage=C.length-1;break}if(a<=C[c]+b){j.activePage=c;break}}if(D){for(var d=c=b=!1,f=0,g=k.length;f<g;f++)if(!1===b&&a<=k[f].start+k[f].half&&(b=f),!1===d&&a<=k[f].center+k[f].half&&(d=f),f===g-1||a<=k[f].end+k[f].half){c=f;break}j.firstItem=Q(b)?b:0;j.centerItem=Q(d)?d:j.firstItem;j.lastItem=Q(c)?c:j.centerItem}return j}function Ca(){var a=e.dest<=e.start,j=e.dest>=e.end,d=a?1:j?2:3;r.slideePosState!==d&&(r.slideePosState=d,V.is("button,input")&&
V.prop("disabled",a),W.is("button,input")&&W.prop("disabled",j),V.add(da)[a?"addClass":"removeClass"](c.disabledClass),W.add(X)[j?"addClass":"removeClass"](c.disabledClass));r.fwdbwdState!==d&&b.released&&(r.fwdbwdState=d,da.is("button,input")&&da.prop("disabled",a),X.is("button,input")&&X.prop("disabled",j));D&&(a=0===g.activeItem,j=g.activeItem>=k.length-1,d=a?1:j?2:3,r.itemsButtonState!==d&&(r.itemsButtonState=d,Y.is("button,input")&&Y.prop("disabled",a),Z.is("button,input")&&Z.prop("disabled",
j),Y[a?"addClass":"removeClass"](c.disabledClass),Z[j?"addClass":"removeClass"](c.disabledClass)))}function Fa(a,b,c){a=ya(a);b=ya(b);if(-1<a&&-1<b&&a!==b&&(!c||b!==a-1)&&(c||b!==a+1)){x.eq(a)[c?"insertAfter":"insertBefore"](k[b].el);var d=a<b?a:c?b:b-1,e=a>b?a:c?b+1:b,f=a>b;a===g.activeItem?r.active=g.activeItem=c?f?b+1:b:f?b:b-1:g.activeItem>d&&g.activeItem<e&&(r.active=g.activeItem+=f?1:-1);ba()}}function Ga(a,b){for(var c=0,d=E[a].length;c<d;c++)if(E[a][c]===b)return c;return-1}function Ha(a){return Math.round(z(a,
p.start,p.end)/p.end*(e.end-e.start))+e.start}function Aa(){b.history[0]=b.history[1];b.history[1]=b.history[2];b.history[2]=b.history[3];b.history[3]=b.delta}function Ia(a){b.released=0;b.source=a;b.slidee="slidee"===a}function Ja(a){if(!b.init){var d="touchstart"===a.type,f=a.data.source,g="slidee"===f;if(!("handle"===f&&(!c.dragHandle||p.start===p.end)))if(!g||(d?c.touchDragging:c.mouseDragging&&2>a.which))d||A(a,1),Ia(f),b.$source=h(a.target),b.init=0,b.touch=d,b.pointer=d?a.originalEvent.touches[0]:
a,b.initX=b.pointer.pageX,b.initY=b.pointer.pageY,b.initPos=g?e.cur:p.cur,b.start=+new Date,b.time=0,b.path=0,b.pathToInit=g?d?50:10:0,b.history=[0,0,0,0],b.initLoc=b[c.horizontal?"initX":"initY"],b.deltaMin=g?-b.initLoc:-p.cur,b.deltaMax=g?document[c.horizontal?"width":"height"]-b.initLoc:p.end-p.cur,(g?q:y).addClass(c.draggedClass),ea.on(d?Ka:La,Ma),g&&(Na=setInterval(Aa,10))}}function Ma(a){b.released="mouseup"===a.type||"touchend"===a.type;b.pointer=b.touch?a.originalEvent[b.released?"changedTouches":
"touches"][0]:a;b.pathX=b.pointer.pageX-b.initX;b.pathY=b.pointer.pageY-b.initY;b.pathTotal=Math.sqrt(Math.pow(b.pathX,2)+Math.pow(b.pathY,2));b.delta=z(c.horizontal?b.pathX:b.pathY,b.deltaMin,b.deltaMax);if(!b.init&&b.pathTotal>b.pathToInit){if(b.slidee){if(c.horizontal?Math.abs(b.pathX)<Math.abs(b.pathY):Math.abs(b.pathX)>Math.abs(b.pathY)){Oa();return}b.$source.on(fa,Pa)}b.init=1;d.pause(1);v("moveStart")}b.init&&(b.released?(b.touch||A(a),b.init=0,c.releaseSwing&&b.slidee&&(b.swing=300*((b.delta-
b.history[0])/40),b.delta+=b.swing,b.tweese=10<Math.abs(b.swing))):A(a),J(b.slidee?Math.round(b.initPos-b.delta):Ha(b.initPos+b.delta)));b.released&&Oa()}function Oa(){clearInterval(Na);ea.off(b.touch?Ka:La,Ma);(b.slidee?q:y).removeClass(c.draggedClass);d.resume(1);b.init&&e.cur===e.dest&&v("moveEnd")}function Qa(){d.stop();ea.off("mouseup",Qa)}function ga(a){A(a);switch(this){case X[0]:case da[0]:d.moveBy(X.is(this)?c.moveBy:-c.moveBy);ea.on("mouseup",Qa);break;case Y[0]:d.prev();break;case Z[0]:d.next();
break;case V[0]:d.prevPage();break;case W[0]:d.nextPage()}}function Ba(a){if(c.scrollBy&&e.start!==e.end)if(A(a,1),a=z(-a.originalEvent.wheelDelta||a.originalEvent.detail,-1,1),D)d[O?"toCenter":"toStart"](z((O?g.centerItem:g.firstItem)+c.scrollBy*a,0,k.length));else d.slideBy(c.scrollBy*a)}function Wa(a){c.clickBar&&a.target===H[0]&&(A(a),J(Ha((c.horizontal?a.pageX-H.offset().left:a.pageY-H.offset().top)-N/2)))}function Xa(a){if(c.keyboardNavBy)switch(a.which){case c.horizontal?37:38:A(a);d["pages"===
c.keyboardNavBy?"prevPage":"prev"]();break;case c.horizontal?39:40:A(a),d["pages"===c.keyboardNavBy?"nextPage":"next"]()}}function Ya(){this.parentNode===q[0]&&d.activate(this)}function Za(){this.parentNode===U[0]&&d.activatePage(pa.index(this))}function $a(a){if(c.pauseOnHover)d["mouseenter"===a.type?"pause":"resume"](2)}function v(a,b){if(E[a]){ra=0;for(Ra=E[a].length;ra<Ra;ra++)E[a][ra].call(d,a,b)}}var c=h.extend({},ma.defaults,aa),d=this,za=0,F=Q(f),B=h(f),q=B.children().eq(0),s=0,n=0,e={start:0,
center:0,end:0,cur:0,dest:0},H=h(c.scrollBar).eq(0),y=H.children().eq(0),M=0,N=0,p={start:0,end:0,cur:0},U=h(c.pagesBar),pa=0,C=[],x=0,k=[],g={firstItem:0,lastItem:0,centerItem:0,activeItem:-1,activePage:0};aa="basic"===c.itemNav;var I="forceCentered"===c.itemNav,O="centered"===c.itemNav||I,D=!F&&(aa||O||I),Sa=c.scrollSource?h(c.scrollSource):B,ab=c.dragSource?h(c.dragSource):B,X=h(c.forward),da=h(c.backward),Y=h(c.prev),Z=h(c.next),V=h(c.prevPage),W=h(c.nextPage),E={},r={};na=S=L=K=w=ua=u=ta=void 0;
var t={},b={released:1},T=0,Na=0,R=0,Ea=0,ra,Ra;F||(f=B[0]);d.frame=f;d.slidee=q[0];d.pos=e;d.rel=g;d.items=k;d.pages=C;d.isPaused=0;d.options=c;d.reload=ba;d.getPos=function(a){if(D)return a=qa(a),-1!==a?k[a]:!1;var b=q.find(a).eq(0);return b[0]?(a=c.horizontal?b.offset().left-q.offset().left:b.offset().top-q.offset().top,b=b[c.horizontal?"outerWidth":"outerHeight"](),{start:a,center:a-s/2+b/2,end:a-s+b,size:b}):!1};d.moveBy=function(a){t.speed=a;if(!b.init&&t.speed&&e.cur!==(0<t.speed?e.end:e.start))t.lastTime=
+new Date,t.startPos=e.cur,Ia("button"),b.init=1,v("moveStart"),ka(Ea),Da()};d.stop=function(){"button"===b.source&&(b.init=0,b.released=1)};d.prev=function(){d.activate(g.activeItem-1)};d.next=function(){d.activate(g.activeItem+1)};d.prevPage=function(){d.activatePage(g.activePage-1)};d.nextPage=function(){d.activatePage(g.activePage+1)};d.slideBy=function(a,b){J(e.dest+a,b)};d.slideTo=function(a,b){J(a,b)};d.toStart=function(a,b){xa("start",a,b)};d.toEnd=function(a,b){xa("end",a,b)};d.toCenter=
function(a,b){xa("center",a,b)};d.getIndex=qa;d.activate=function(a,e){var f=oa(a);c.smart&&!1!==f&&(O?d.toCenter(f,e):f>=g.lastItem?d.toStart(f,e):f<=g.firstItem?d.toEnd(f,e):b.released&&!d.isPaused&&d.resume())};d.activatePage=function(a,b){Q(a)&&J(C[z(a,0,C.length-1)],b)};d.resume=function(a){if(c.cycleBy&&c.cycleInterval&&!("items"===c.cycleBy&&!k[0]||a<d.isPaused))d.isPaused=0,R?R=clearTimeout(R):v("resume"),R=setTimeout(function(){v("cycle");switch(c.cycleBy){case "items":d.activate(g.activeItem>=
k.length-1?0:g.activeItem+1);break;case "pages":d.activatePage(g.activePage>=C.length-1?0:g.activePage+1)}},c.cycleInterval)};d.pause=function(a){a<d.isPaused||(d.isPaused=a||100,R&&(R=clearTimeout(R),v("pause")))};d.toggle=function(){d[R?"pause":"resume"]()};d.set=function(a,b){h.isPlainObject(a)?h.extend(c,a):c.hasOwnProperty(a)&&(c[a]=b)};d.add=function(a,b){var c=h(a);D?("undefined"===P(b)||!k[0]?c.appendTo(q):k.length&&c.insertBefore(k[b].el),b<=g.activeItem&&(r.active=g.activeItem+=c.length)):
q.append(c);ba()};d.remove=function(a){if(D){if(a=ya(a),-1<a){x.eq(a).remove();var b=a===g.activeItem&&!(I&&c.activateMiddle);if(a<g.activeItem||g.activeItem>=k.length-1)r.active=--g.activeItem;ba();b&&d.activate(g.activeItem)}}else h(a).remove(),ba()};d.moveAfter=function(a,b){Fa(a,b,1)};d.moveBefore=function(a,b){Fa(a,b)};d.on=function(a,b){if("object"===P(a))for(var c in a){if(a.hasOwnProperty(c))d.on(c,a[c])}else if("function"===P(b)){c=a.split(" ");for(var e=0,f=c.length;e<f;e++)E[c[e]]=E[c[e]]||
[],-1===Ga(c[e],b)&&E[c[e]].push(b)}else if("array"===P(b)){c=0;for(e=b.length;c<e;c++)d.on(a,b[c])}};d.off=function(a,b){if(b instanceof Array)for(var c=0,e=b.length;c<e;c++)d.off(a,b[c]);else for(var c=a.split(" "),e=0,f=c.length;e<f;e++)if(E[c[e]]=E[c[e]]||[],"undefined"===P(b))E[c[e]].length=0;else{var g=Ga(c[e],b);-1!==g&&E[c[e]].splice(g,1)}};d.destroy=function(){ea.add(Sa).add(y).add(H).add(U).add(X).add(da).add(Y).add(Z).add(V).add(W).unbind("."+m);Y.add(Z).add(V).add(W).removeClass(c.disabledClass);
x&&x.eq(g.activeItem).removeClass(c.activeClass);U.empty();F||(B.unbind("."+m),q.add(y).css(G||(c.horizontal?"left":"top"),G?"none":0),h.removeData(f,m));za=0;return d};d.init=function(){if(!za){d.on(l);var a=y;F||(a=a.add(q),B.css("overflow","hidden"),!G&&"static"===B.css("position")&&B.css("position","relative"));G?ja&&a.css(G,ja):("static"===H.css("position")&&H.css("position","relative"),a.css({position:"absolute"}));if(c.forward)X.on(Ta,ga);if(c.backward)da.on(Ta,ga);if(c.prev)Y.on(fa,ga);if(c.next)Z.on(fa,
ga);if(c.prevPage)V.on(fa,ga);if(c.nextPage)W.on(fa,ga);Sa.on("DOMMouseScroll."+m+" mousewheel."+m,Ba);if(H[0])H.on(fa,Wa);if(D&&c.activateOn)B.on(c.activateOn+"."+m,"*",Ya);if(U[0]&&c.activatePageOn)U.on(c.activatePageOn+"."+m,"*",Za);ab.on(Ua,{source:"slidee"},Ja);if(y)y.on(Ua,{source:"handle"},Ja);ea.bind("keydown."+m,Xa);F||(B.on("mouseenter."+m+" mouseleave."+m,$a),B.on("scroll."+m,bb));ba();D?(oa(c.startAt),d[O?"toCenter":"toStart"](c.startAt)):J(c.startAt,1);if(c.cycleBy&&!F)d[c.startPaused?
"pause":"resume"]();za=1;return d}}}function P(f){return null==f?String(f):"object"===typeof f||"function"===typeof f?Object.prototype.toString.call(f).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof f}function A(f,h){f.preventDefault();h&&f.stopPropagation()}function Pa(f){A(f,1);h(this).off(f.type,Pa)}function bb(){this.scrollTop=this.scrollLeft=0}function Q(f){return!isNaN(parseFloat(f))&&isFinite(f)}function ca(f,h){return parseInt(f.css(h),10)||0}function z(f,h,l){return f<h?h:f>l?l:f}
for(var m="sly",ka=L.cancelAnimationFrame||L.cancelRequestAnimationFrame,ia=L.requestAnimationFrame,G,ja,ea=h(document),Ua="touchstart."+m+" mousedown."+m,La="mousemove."+m+" mouseup."+m,Ka="touchmove."+m+" touchend."+m,fa="click."+m,Ta="mousedown."+m,S=window,u=["moz","webkit","o"],la=0,K=0,Aa=u.length;K<Aa&&!ka;++K)ia=(ka=S[u[K]+"CancelAnimationFrame"]||S[u[K]+"CancelRequestAnimationFrame"])&&S[u[K]+"RequestAnimationFrame"];ka||(ia=function(f){var h=+new Date,l=Math.max(0,16-(h-la));la=h+l;return S.setTimeout(function(){f(h+
l)},l)},ka=function(f){clearTimeout(f)});var u=function(f){for(var h=0,l=$.length;h<l;h++){var m=$[h]?$[h]+f.charAt(0).toUpperCase()+f.slice(1):f;if(Ba.style[m]!==sa)return m}},$=["","webkit","moz","ms","o"],Ba=document.createElement("div");G=u("transform");ja=u("perspective")?"translateZ(0) ":"";L.Sly=ma;h.fn.sly=function(f,u){var l,z;if(!h.isPlainObject(f)){if("string"===P(f)||!1===f)l=!1===f?"destroy":f,z=Array.prototype.slice.call(arguments,1);f={}}return this.each(function(G,A){var w=h.data(A,
m);!w&&!l?h.data(A,m,(new ma(A,f,u)).init()):w&&l&&w[l]&&w[l].apply(w,z)})};ma.defaults={horizontal:0,itemNav:null,itemSelector:null,smart:0,activateOn:null,activateMiddle:0,scrollSource:null,scrollBy:0,dragSource:null,mouseDragging:0,touchDragging:0,releaseSwing:0,swingSpeed:0.2,elasticBounds:0,scrollBar:null,dragHandle:0,dynamicHandle:0,minHandleSize:50,clickBar:0,syncSpeed:0.5,pagesBar:null,activatePageOn:null,pageBuilder:function(f){return"<li>"+(f+1)+"</li>"},forward:null,backward:null,prev:null,
next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5E3,pauseOnHover:0,startPaused:0,moveBy:300,speed:0,easing:"swing",startAt:0,keyboardNavBy:null,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}})(jQuery,window);
